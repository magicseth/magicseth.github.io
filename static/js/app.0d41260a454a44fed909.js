webpackJsonp([1],{"04fV":function(e,t){},"17zi":function(e,t){},"4yUF":function(e,t){},JElr:function(e,t){},Jawy:function(e,t){},LEmQ:function(e,t){},LaKF:function(e,t){},LmOg:function(e,t){},NHnr:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("7+uW"),r={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]};var i=n("VU/8")({name:"App"},r,!1,function(e){n("ftgr")},null,null).exports,s=n("/ocq"),o=n("kxiW"),c=n.n(o),l={name:"Comics",data:function(){return{comics:[],name:"",image:""}},firestore:function(){return{comics:ie.collection("comics").orderBy("createdAt")}},methods:{addComic:function(e,t){var n=new Date;ie.collection("comics").add({name:e,image:t,createdAt:n}),this.name="",this.image=""},deleteComic:function(e){ie.collection("comics").doc(e).delete()},logout:function(){var e=this;c.a.auth().signOut().then(function(){e.$router.replace("login")})}}},d={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("button",{staticClass:"button logout",on:{click:e.logout}},[e._v("Logout")]),e._v(" "),e._l(e.comics,function(t,a){return n("article",{key:a,staticClass:"covers"},[n("div",[n("img",{staticStyle:{margin:"10px"},attrs:{src:t.image,height:"291px",width:"192px"}}),e._v(" "),n("p",[e._v(e._s(t.name))]),e._v(" "),n("hr"),e._v(" "),n("button",{staticClass:"button",on:{click:function(n){e.deleteComic(t.id)}}},[e._v("\n        Delete\n      ")])])])}),e._v(" "),n("form",{on:{submit:function(t){e.addComic(e.name,e.image)}}},[n("h2",[e._v("Add a New Comic Cover")]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"name"}],staticClass:"input",attrs:{placeholder:"Comic Name",required:""},domProps:{value:e.name},on:{input:function(t){t.target.composing||(e.name=t.target.value)}}}),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.image,expression:"image"}],staticClass:"input",attrs:{placeholder:"Comic Image URL",required:""},domProps:{value:e.image},on:{input:function(t){t.target.composing||(e.image=t.target.value)}}}),e._v(" "),n("button",{staticClass:"button",attrs:{type:"submit"}},[e._v("Add New Comic")])])],2)},staticRenderFns:[]},u=n("VU/8")(l,d,!1,null,null,null).exports,m=n("rEtP"),p=n.n(m),h=n("IC97"),v={name:"TransitionExpand",functional:!0,render:function(e,t){return e("transition",{props:{name:"expand"},on:{afterEnter:function(e){e.style.height="auto"},enter:function(e){var t=getComputedStyle(e).width;e.style.width=t,e.style.position="absolute",e.style.visibility="hidden",e.style.height="auto";var n=getComputedStyle(e).height;e.style.width=null,e.style.position=null,e.style.visibility=null,e.style.height=0,getComputedStyle(e).height,setTimeout(function(){e.style.height=n})},leave:function(e){var t=getComputedStyle(e).height;e.style.height=t,getComputedStyle(e).height,setTimeout(function(){e.style.height=0})}}},t.children)}};var g=n("VU/8")(v,null,!1,function(e){n("17zi"),n("04fV")},"data-v-1a785220",null).exports,f={name:"CampWeekProgramCard",fiery:!0,props:["camp","week","edit","fire","collapsed","grade"],components:{Datepicker:h.a,TransitionExpand:g},computed:{programsThisWeek:function(){var e=this,t=[];return this.camp.programs.forEach(function(n){e.week?n.sessions.forEach(function(a){e.sessioninweek(a)&&e.gradeinprogram(n)&&!t.includes(n)&&t.push(n)}):t.push(n)}),t}},data:function(){return{mydate:"",mygrades:[],allgrades:["K","1","2","3","4","5","6","7","8","9","10","11","12"]}},methods:{renderSessionDate:function(e){var t=new Date(1e3*e.date.seconds);return t.getMonth()+1+"/"+t.getDate()},remove:function(e){this.fire.remove(e)},addsessionforkid:function(e){this.$emit("addsession",e)},addsession:function(e){this.fire.ref(e,"sessions").add({date:this.mydate})},gradeinprogram:function(e){return!this.grade||e.programdetails.mygrades.includes(this.grade)},sessioninweek:function(e){if(this.week){var t=this.week.getTime()/1e3;return e.date.seconds>=t&&e.date.seconds<t+604800}return!1}}},_={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("transition-expand",[e.programsThisWeek.length>0||e.edit?n("div",{staticClass:"card",on:{click:function(e){e.stopPropagation()}}},[n("b",{staticStyle:{width:"100%"},on:{click:function(t){e.collapsed=!e.collapsed}}},[e._v("\n      "+e._s(e.camp.campdetails.name)+"\n      "),e.collapsed?n("span",[e._v("("+e._s(e.programsThisWeek.length)+")")]):e._e()]),e._v(" "),e.collapsed?e._e():n("div",[n("hr"),e._v(" "),e._l(e.programsThisWeek,function(t,a){return n("div",{key:a,staticClass:"onesession",on:{click:function(n){e.addsessionforkid(t)}}},[e._v("\n        -\n        "),e._e(),e._v("\n        "+e._s(t.programdetails?t.programdetails.name:t.name)+"\n        "),e._l(t.sessions,function(t,a){return n("div",{key:a},[e.edit?n("span",{on:{click:function(n){e.remove(t)}}},[e._v("x "+e._s(e.renderSessionDate(t)))]):e._e()])}),e._v(" "),e.edit?n("div",[n("datepicker",{attrs:{"use-utc":"",placeholder:"Start Date"},model:{value:e.mydate,callback:function(t){e.mydate=t},expression:"mydate"}})],1):e._e(),e._v(" "),e.edit?n("button",{on:{click:function(n){e.addsession(t)}}},[e._v("add")]):e._e()],2)})],2)]):e._e()])},staticRenderFns:[]};var w=n("VU/8")(f,_,!1,function(e){n("LEmQ")},"data-v-65ad288e",null).exports,y=n("Zzkc"),k={name:"CampAdmin",components:{CampWeekProgramCard:w,"photoshop-picker":y.Photoshop},fiery:!0,props:["id"],data:function(){return{color:"#000",camp:this.$fiery(ie.collection("camps/").doc(this.id),{sub:{programs:{sub:{sessions:{}}}}}),newprogram:{name:"",url:"",image:"",mygrades:[]},allgrades:["K","1","2","3","4","5","6","7","8","9","10","11","12"]}},methods:{addProgram:function(e){new Date;var t={programdetails:e};ie.collection("camps/"+this.id+"/programs").add(t),this.newprogram.name="",this.newprogram.url="",this.newprogram.description=""},updateValue:function(){},addSession:function(e,t){},deleteProgram:function(e){this.$fiery.remove(e)},remove:function(e){this.$fiery.remove(e[".uid"])},logout:function(){var e=this;c.a.auth().signOut().then(function(){e.$router.replace("login")})}}},C={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("button",{staticClass:"button logout",on:{click:e.logout}},[e._v("Logout")]),e._v("\n  "+e._s(e.camp.campdetails.name)+"\n  "),n("camp-week-program-card",{attrs:{camp:e.camp,edit:!0,fire:this.$fiery}}),e._v(" "),n("form",{on:{submit:function(t){e.addProgram(e.newprogram)}}},[n("h2",[e._v("Add a New Program")]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.newprogram.name,expression:"newprogram.name"}],staticClass:"input",attrs:{placeholder:"Program Name",required:""},domProps:{value:e.newprogram.name},on:{input:function(t){t.target.composing||e.$set(e.newprogram,"name",t.target.value)}}}),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.newprogram.url,expression:"newprogram.url"}],staticClass:"input",attrs:{placeholder:"Program URL"},domProps:{value:e.newprogram.url},on:{input:function(t){t.target.composing||e.$set(e.newprogram,"url",t.target.value)}}}),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.newprogram.description,expression:"newprogram.description"}],staticClass:"input",attrs:{placeholder:"Program Description",required:""},domProps:{value:e.newprogram.description},on:{input:function(t){t.target.composing||e.$set(e.newprogram,"description",t.target.value)}}}),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.newprogram.cost,expression:"newprogram.cost"}],staticClass:"input",attrs:{placeholder:"Cost"},domProps:{value:e.newprogram.cost},on:{input:function(t){t.target.composing||e.$set(e.newprogram,"cost",t.target.value)}}}),e._v(" "),e._l(e.allgrades,function(t,a){return n("div",{key:a},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.newprogram.mygrades,expression:"newprogram.mygrades"}],attrs:{type:"checkbox",id:"grade"+t},domProps:{value:t,checked:Array.isArray(e.newprogram.mygrades)?e._i(e.newprogram.mygrades,t)>-1:e.newprogram.mygrades},on:{change:function(n){var a=e.newprogram.mygrades,r=n.target,i=!!r.checked;if(Array.isArray(a)){var s=t,o=e._i(a,s);r.checked?o<0&&e.$set(e.newprogram,"mygrades",a.concat([s])):o>-1&&e.$set(e.newprogram,"mygrades",a.slice(0,o).concat(a.slice(o+1)))}else e.$set(e.newprogram,"mygrades",i)}}}),e._v(" "),n("label",{attrs:{for:"grade"+t}},[e._v(e._s(t))])])}),e._v(" "),n("button",{staticClass:"button",attrs:{type:"submit"}},[e._v("Add New Program")])],2)],1)},staticRenderFns:[]};var b=n("VU/8")(k,C,!1,function(e){n("4yUF")},"data-v-f4f45406",null).exports,x={name:"CampAdminList",components:{},fiery:!0,props:[],data:function(){return{camps:this.$fiery(ie.collection("camps/")),newcamp:{campdetails:{name:"",url:""}}}},methods:{idOf:function(e){var t=e[".uid"].split("/");return t[t.length-1]},addCamp:function(e){new Date;ie.collection("camps").add(e),newcamp={}},logout:function(){var e=this;c.a.auth().signOut().then(function(){e.$router.replace("login")})}}},$={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._l(e.camps,function(t){return n("div",{key:t.id},[n("router-link",{attrs:{to:"/campadmin/"+e.idOf(t)}},[e._v(e._s(t.campdetails.name))])],1)}),e._v(" "),n("div",[n("form",{on:{submit:function(t){e.addCamp(e.newcamp)}}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.newcamp.campdetails.name,expression:"newcamp.campdetails.name"}],staticClass:"input",attrs:{placeholder:"New Camp Name",required:""},domProps:{value:e.newcamp.campdetails.name},on:{input:function(t){t.target.composing||e.$set(e.newcamp.campdetails,"name",t.target.value)}}}),e._v(" "),n("button",{staticClass:"button",attrs:{type:"submit"}},[e._v("Add Camp")])])])],2)},staticRenderFns:[]};var U=n("VU/8")(x,$,!1,function(e){n("LaKF")},"data-v-efb4a35c",null).exports,P={name:"login",data:function(){return{email:"",password:""}},creaated:function(){console.log("user is "+c.a.auth.user);var e=this.$router;c.a.auth().onAuthStateChanged(function(t){console.log("user is "+c.a.auth.user),t&&e.replace("/planner")})},methods:{login:function(){var e=this;c.a.auth().signInWithEmailAndPassword(this.email,this.password).then(function(t){e.$router.replace("/plan")}).catch(function(e){alert(e.message)})}}},A={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"login"},[n("h3",[e._v("Campy.club Plan Your Summer")]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],staticClass:"input",attrs:{type:"text",placeholder:"Email address",required:""},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}}),e._v(" "),n("br"),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"input",attrs:{type:"password",placeholder:"Password",required:""},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}}),e._v(" "),n("br"),e._v(" "),n("button",{staticClass:"button",on:{click:e.login}},[e._v("Enter")]),e._v(" "),n("p",[n("router-link",{attrs:{to:"/signup"}},[e._v("New Here? Create a new account")])],1)])},staticRenderFns:[]},E=n("VU/8")(P,A,!1,null,null,null).exports,D={name:"signup",data:function(){return{email:"",password:""}},methods:{signUp:function(){var e=this;c.a.auth().createUserWithEmailAndPassword(this.email,this.password).then(function(t){t.user.sendEmailVerification({url:"http://campy.club/plan"}).then(function(){e.$router.replace("/login")}).catch(function(e){alert("could not send authentication e-mail "+e)})}).catch(function(e){alert(e.message)})}}},N={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"sign-up"},[n("h3",[e._v("Create a new account")]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],staticClass:"input",attrs:{type:"text",placeholder:"Email",required:""},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}}),e._v(" "),n("br"),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"input",attrs:{type:"password",placeholder:"Password",required:""},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}}),e._v(" "),n("br"),e._v(" "),n("button",{staticClass:"button",on:{click:e.signUp}},[e._v("Sign Up!")]),e._v(" "),n("button",{staticClass:"button"},[n("router-link",{attrs:{to:"/login"}},[e._v("Back")])],1)])},staticRenderFns:[]},S=n("VU/8")(D,N,!1,null,null,null).exports,T={name:"ChildPlanner",props:["child","allcamps"],components:{CampWeekProgramCard:w},methods:{weektodate:function(e){return new Date(1e3*e.seconds)}},computed:{weeks:function(){for(var e=new Date(Date.UTC(2019,5,3)),t=["January","February","March","April","May","June","July","August","September","October","November","December"],n=[],a=0;a<12;a++){var r={};r.name=t[e.getUTCMonth()]+" "+e.getUTCDate(),r.day=e.getUTCDate(),r.seconds=e.getTime()/1e3,n.push(r);var i=e.getTime()+6048e5;e=new Date(i)}return n}}},W={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._v("\n  Hello\n  "+e._s(e.child)+"\n  "),n("div",{staticClass:"container"},e._l(e.weeks,function(t){return n("div",{key:t.name,class:"week week"+t.day},[e._v("\n      "+e._s(t.name)+"\n      "),e._l(e.allcamps,function(a,r){return n("CampWeekProgramCard",{key:r,attrs:{camp:a,week:e.weektodate(t)}})})],2)}),0)])},staticRenderFns:[]};var V={name:"Planner",fiery:!0,components:{ChildPlanner:n("VU/8")(T,W,!1,function(e){n("Jawy")},"data-v-2aa33106",null).exports},methods:{addChild:function(){this.newChild.created_by=this.currentUserId,ie.collection("kids").add(this.newChild),this.newChild.name="",this.newChild.grade=""}},created:function(){console.log("user is "+c.a.auth.user);this.$router;var e=this;c.a.auth().onAuthStateChanged(function(t){console.log("user  is "+t),t&&(e.currentUserId=t.uid,e.mykids=e.$fiery(ie.collection("kids/"),{query:function(t){return t.where("created_by","==",e.currentUserId)}}),console.log(e.mykids))})},data:function(){var e=this;return{newChild:{name:"",grade:"K"},children:["Quill"],currentUserId:"",mykids:this.currentUserId?this.$fiery(ie.collection("kids/"),{query:function(t){return t.where("created_by","==",e.currentUserId)}}):{},allcamps:this.$fiery(ie.collection("camps/"),{sub:{programs:{sub:{sessions:{}}}}})}}},F={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e._v("\n  Plan all of your summercamps here\n  "),a("img",{staticStyle:{"v-align":"middle"},attrs:{src:n("hJjw"),width:"50em"}}),e._v("\n  add a child "+e._s(e.currentUserId)+"\n  "),a("form",{on:{submit:e.addChild}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.newChild.name,expression:"newChild.name"}],attrs:{required:""},domProps:{value:e.newChild.name},on:{input:function(t){t.target.composing||e.$set(e.newChild,"name",t.target.value)}}})]),e._v(" "),e._l(e.mykids,function(t,n){return a("ChildPlanner",{key:n,staticStyle:{clear:"both"},attrs:{child:t.name,allcamps:e.allcamps}},[e._v("inside")])})],2)},staticRenderFns:[]};var q=n("VU/8")(V,F,!1,function(e){n("nEZ4")},"data-v-315c4cf6",null).exports,R={fiery:!0,components:{CampWeekProgramCard:w},props:["week","kid"],data:function(){return{allcamps:this.$fiery(ie.collection("camps/"),{sub:{programs:{sub:{sessions:{}}}}})}}},I={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.week?n("div",{staticClass:"selector"},e._l(e.allcamps,function(t,a){return n("camp-week-program-card",{key:a,attrs:{camp:t,week:e.week,grade:e.kid.grade},on:{addsession:function(n){e.$emit("addession",{program:n,camp:t,kid:e.kid,week:e.week})}}})}),1):e._e()},staticRenderFns:[]};var K=n("VU/8")(R,I,!1,function(e){n("JElr")},null,null).exports,L={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"campdetails"},[t("div",[this._v(this._s(this.campname))]),this._v(" "),t("div",[this._v("{{}}")])])},staticRenderFns:[]};var J={props:["startdate","mykid","child","openall"],fiery:!0,components:{CampSelector:K,TransitionExpand:g,CampDetails:n("VU/8")({data:function(){return{}},props:["campname","registration"]},L,!1,function(e){n("h61D")},null,null).exports},data:function(){return{selected:!1,showhover:!1}},watch:{selected:function(e,t){},openall:function(e,t){this.selected=!!e}},computed:{shouldshow:function(){return this.selected},registrationsThisWeek:function(){var e=this,t=[];return this.mykid.registrations.forEach(function(n){var a=new Date;n.week&&(a.setTime(1e3*n.week.seconds),e.startdate.getTime()==a.getTime()&&t.push(n))}),t}},methods:{deregister:function(e){this.$fiery.remove(e)},addsession:function(e){var t=this.mykid[".uid"].split("/"),n=t[t.length-1],a={program:e.program.programdetails,camp:e.camp.campdetails.name,week:e.week,campid:se(e.camp)};ie.collection("kids").doc(n).collection("registrations").add(a)}}},O={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"kid",on:{mouseover:function(t){t.stopPropagation(),e.showhover=!0},mouseout:function(t){t.stopPropagation(),e.showhover=!1},click:function(t){e.selected=!e.selected,e.$emit("choose",{startdate:e.startdate,kid:e.mykid})}}},[n("span",{staticStyle:{"font-family":"'Arial'","font-weight":"bold"}},[e._v(e._s(e.mykid.name))]),e._v(" "),e.selected&&e.showhover?n("span",{staticClass:"toggle"},[e._v("⤴️")]):e.showhover?n("span",{staticClass:"toggle"},[e._v("⤵️")]):e._e(),e._v(" "),e._l(e.registrationsThisWeek,function(t,a){return n("div",{key:a},[e._v("\n    "+e._s(t.camp+": "+t.program.name)+"\n    "),n("span",{staticStyle:{position:"relative"}},[e.showhover?n("span",{staticStyle:{width:"200px"},on:{click:function(n){n.stopPropagation(),e.deregister(t)}}},[n("button",{staticStyle:{position:"absolute","margin-left":"35px",top:"0px"}},[e._v("cancel")])]):e._e()])])}),e._v(" "),e.shouldshow?n("camp-selector",{attrs:{week:e.startdate,kid:e.mykid},on:{addession:function(t){e.addsession(t)}}}):e._e()],2)},staticRenderFns:[]};var M=n("VU/8")(J,O,!1,function(e){n("UlXQ")},null,null).exports,z={props:["startdate","dayoffset","mykids"],components:{CalendarWeekKid:M},computed:{date:function(){var e=new Date;return e.setTime(this.startdate.getTime()+24*this.dayoffset*60*60*1e3),e.getDate()}}},B={render:function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"day"},[this._v(this._s(this.date))])},staticRenderFns:[]},H=["JAN","FEB","MAR","APR","MAY","JUN","JUL","AUG","SEP","OCT","NOV","DEC"],Q={components:{CalendarDay:n("VU/8")(z,B,!1,null,null,null).exports,CalendarWeekKid:M},props:["startdate","index","mykids","openall"],computed:{monthname:function(){var e=new Date(this.startdate);return e.setDate(this.startdate.getDate()+6),H[e.getMonth()]},newmonth:function(){var e=new Date(this.startdate);return e.setDate(this.startdate.getDate()+7),1==this.index||e.getDate()<8}},methods:{choose:function(e){alert("wowo")}}},j={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.newmonth?n("div",{staticClass:"month"},[e._v(e._s(e.monthname))]):e._e(),e._v(" "),n("div",{staticClass:"week"},[e._l(7,function(t){return n("calendar-day",{key:t,attrs:{startdate:e.startdate,dayoffset:t,mykids:e.mykids},on:{choose:function(t){e.$emit("choose",t)}}})}),e._v(" "),n("div",e._l(e.mykids,function(t,a){return n("calendar-week-kid",{key:a,attrs:{startdate:e.startdate,child:t.name,mykid:t,openall:e.openall},on:{choose:function(t){e.$emit("choose",t)}}})}),1)],2)])},staticRenderFns:[]},Y={props:["currentUserId","mykids","highlightedweek"],components:{CalendarWeek:n("VU/8")(Q,j,!1,null,null,null).exports},data:function(){return{startdate:new Date(Date.UTC(2019,5,2)),numweeks:12,openall:!1}},computed:{startdates:function(){for(var e=[],t=this.startdate,n=0;n<this.numweeks;n++)e.push(new Date(t)),t.setTime(t.getTime()+6048e5);return e}},methods:{deactivated:function(e){return!(!this.highlightedweek||this.startdates[e]==this.highlightedweek)}}},Z={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.openall?n("div",{on:{click:function(t){e.openall=!1}}},[e._v("close all")]):n("div",{on:{click:function(t){e.openall=!0}}},[e._v("open all")]),e._v(" "),n("div",{staticClass:"calendar"},e._l(e.numweeks,function(t){return n("calendar-week",{key:t,class:{deactivated:e.deactivated(t-1)},attrs:{startdate:e.startdates[t-1],highligheddate:e.highlightedweek,openall:e.openall,index:t,mykids:e.mykids},on:{choose:function(t){e.$emit("choose",t)}}})}),1)])},staticRenderFns:[]};var X={name:"Plan",fiery:!0,created:function(){this.$router;var e=this;c.a.auth().onAuthStateChanged(function(t){t&&(e.user=t,e.currentUserId=t.uid,e.mykids=e.$fiery(ie.collection("kids/"),{query:function(t){return t.where("created_by","==",e.currentUserId)},sub:{registrations:{}}}))})},data:function(){var e=this;return{user:{},highlightedWeek:null,highlightedKid:null,currentUserId:"",newChild:{name:"",grade:"K"},allgrades:["PreK","K","1","2","3","4","5","6","7","8","9","10","11","12"],mykids:this.currentUserId?this.$fiery(ie.collection("kids/"),{query:function(t){return t.where("created_by","==",e.currentUserId)}}):{}}},components:{Calendar:n("VU/8")(Y,Z,!1,function(e){n("LmOg")},null,null).exports,CampSelector:K},methods:{choose:function(e){this.highlightedWeek=e.startdate,this.highlightedKid=e.kid,console.log("kid "+e.kid.name)},addChild:function(){this.newChild.created_by=this.currentUserId,ie.collection("kids").add(this.newChild),this.newChild.name="",this.newChild.grade=""},saveKid:function(e){var t=this.mykids[e];this.$fiery.update(t)},addsession:function(e){var t=e.kid[".uid"].split("/"),n=t[t.length-1],a={program:e.program.name,campdetails:e.camp.campdetails,week:e.week};ie.collection("kids").doc(n).collection("registrations").add(a)}}},G={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticStyle:{"margin-left":"100px",width:"490px"}},[e._v("\n    hello "+e._s(e.user.email)+"\n    "),n("h1",[e._v("my kids")]),e._v(" "),e._l(e.mykids,function(t,a){return n("div",{key:a},[e._v("\n      "+e._s(t.name)+" is in\n      "),n("select",{directives:[{name:"model",rawName:"v-model",value:t.grade,expression:"kid.grade"}],on:{change:[function(n){var a=Array.prototype.filter.call(n.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.$set(t,"grade",n.target.multiple?a:a[0])},function(t){e.saveKid(a)}]}},e._l(e.allgrades,function(t){return n("option",{key:t,domProps:{value:t}},[e._v(e._s(t))])}),0)])}),e._v(" "),n("br"),e._v(" "),n("form",{on:{submit:e.addChild}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.newChild.name,expression:"newChild.name"}],staticStyle:{width:"60px"},attrs:{placeholder:"new child",required:""},domProps:{value:e.newChild.name},on:{input:function(t){t.target.composing||e.$set(e.newChild,"name",t.target.value)}}}),e._v(" "),n("select",{directives:[{name:"model",rawName:"v-model",value:e.newChild.grade,expression:"newChild.grade"}],on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.$set(e.newChild,"grade",t.target.multiple?n:n[0])}}},e._l(e.allgrades,function(t){return n("option",{key:t,domProps:{value:t}},[e._v(e._s(t))])}),0),e._v(" "),n("br"),e._v(" "),n("button",{attrs:{type:"submit"}},[e._v("add child")])]),e._v(" "),n("h1",{},[e._v("our summer")])],2),e._v(" "),n("calendar",{attrs:{mykids:e.mykids,highlightedweek:e.highlightedWeek},on:{choose:e.choose}}),e._v(" "),n("camp-selector",{attrs:{week:e.highlightedWeek,kid:e.highlightedKid},on:{addession:function(t){e.addsession(t)}}})],1)},staticRenderFns:[]};var ee=n("VU/8")(X,G,!1,function(e){n("V+WK")},null,null).exports;a.a.use(s.a);var te=new s.a({routes:[{path:"/",redirect:"/login"},{path:"/login",name:"Login",component:E},{path:"/signup",name:"SignUp",component:S},{path:"/comics",name:"Comics",component:u,meta:{requiresAuth:!0}},{path:"/planner",name:"Planner",component:q,meta:{requiresAuth:!0}},{path:"/plan",name:"Plan",component:ee,meta:{requiresAuth:!0}},{path:"/campadmin/:id",name:"CampAdmin",props:!0,component:b,meta:{requiresAuth:!0}},{path:"/campadmin",name:"CampAdminList",props:!0,component:U,meta:{requiresAuth:!0}}]});te.beforeEach(function(e,t,n){var a=c.a.auth().currentUser,r=e.matched.some(function(e){return e.meta.requiresAuth});console.log(r+" current user "+a),!r&&a&&n("plan"),n()});var ne=te,ae=n("yviF"),re=n.n(ae);n("881v");n.d(t,"db",function(){return ie}),n.d(t,"getid",function(){return se}),a.a.config.productionTip=!1,a.a.use(p.a);re.a.initializeApp({apiKey:"AIzaSyBA_HUWkNy5fOdzzYsC_N4rbaNyL6Ng-uM",authDomain:"camp-planner-firebase.firebaseapp.com",databaseURL:"https://camp-planner-firebase.firebaseio.com",projectId:"camp-planner-firebase",storageBucket:"camp-planner-firebase.appspot.com",messagingSenderId:"69207551159"});var ie=re.a.firestore(),se=function(e){var t=e[".uid"].split("/");return t[t.length-1]};new a.a({el:"#app",router:ne,components:{App:i},template:"<App/>"})},UlXQ:function(e,t){},"V+WK":function(e,t){},ftgr:function(e,t){},h61D:function(e,t){},hJjw:function(e,t,n){e.exports=n.p+"static/img/kidprofile.f50f7e7.png"},nEZ4:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.0d41260a454a44fed909.js.map